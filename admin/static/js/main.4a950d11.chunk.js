(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{103:function(e,t,a){e.exports=a(122)},108:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(13),i=a.n(c),o=(a(108),a(14)),u=a(7),s=a(8),m=a(199),d=a(198),b=a(207),p=a(183),E=a(87),f=a.n(E),h=a(200),g=a(48),v=a(165),j=a(209),O=a(16),y=a(2),A=a(170),k=a(210),C=a(166),x=a(167),w=a(168),S=a(169),M=a(42),H=function(e){return l.a.createElement(M.a,e,l.a.createElement("path",{d:"M15.5,12a4.5,4.5,0,0,1,3.81,6.9L22.39,22,21,23.39l-3.12-3.07A4.5,4.5,0,1,1,15.5,12m0,2A2.5,2.5,0,1,0,18,16.5,2.5,2.5,0,0,0,15.5,14M10,4a4,4,0,0,1,4,4,4.041,4.041,0,0,1-.82,2.43,6.353,6.353,0,0,0-2.27,1.47L10,12a4,4,0,1,1,0-8M2,20V18c0-2.12,3.31-3.86,7.5-4A6.561,6.561,0,0,0,9,16.5,6.659,6.659,0,0,0,10,20Z",transform:"translate(0 -1)",opacity:"0.3"}),l.a.createElement("path",{d:"M10,13a7.173,7.173,0,0,0-.81,1.93C6.5,15.16,3.9,16.42,3.9,17v1.1H9.2A6.959,6.959,0,0,0,10,20H2V17c0-2.66,5.33-4,8-4m0-9a4,4,0,0,1,4,4,4.041,4.041,0,0,1-.82,2.43,6.353,6.353,0,0,0-2.27,1.47L10,12a4,4,0,1,1,0-8m0,1.9A2.1,2.1,0,1,0,12.1,8,2.1,2.1,0,0,0,10,5.9M15.5,12a4.5,4.5,0,0,1,3.81,6.9L22.39,22,21,23.39l-3.12-3.07A4.5,4.5,0,1,1,15.5,12m0,2A2.5,2.5,0,1,0,18,16.5,2.5,2.5,0,0,0,15.5,14Z",transform:"translate(0 -1)"}))},L=a(171),V=a(172),N=a(173),D=a(174),I=Object(v.a)((function(e){return Object(j.a)({toolbar:e.mixins.toolbar,drawerPaper:{width:240}})}));!function(e){e[e.Add=0]="Add",e[e.ListAll=1]="ListAll",e[e.Serach=2]="Serach",e[e.Logout=3]="Logout"}(n||(n={}));var B=function(e){var t=e.isLoggedIn,a=e.perform,r=Object(y.a)(e,["isLoggedIn","perform"]),c=I(),i=t?[{icon:l.a.createElement(C.a,null),action:n.Add,title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05d1\u05e8.\u05d4"},{icon:l.a.createElement(x.a,null),action:n.ListAll,title:"\u05db\u05dc \u05d4\u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea"},{icon:l.a.createElement(H,null),action:n.Serach,title:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea"},null,{icon:l.a.createElement(w.a,null),action:n.Logout,title:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea"}]:[{icon:l.a.createElement(S.a,null),title:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}];return l.a.createElement(k.a,r,l.a.createElement("div",null,l.a.createElement("div",{className:c.toolbar}),l.a.createElement(A.a,null),l.a.createElement(L.a,null,i.map((function(e,t){return e?l.a.createElement(V.a,{button:!0,key:t,onClick:function(){return void 0!==e.action&&a(e.action)}},l.a.createElement(N.a,null,e.icon),l.a.createElement(D.a,{primary:e.title})):l.a.createElement(A.a,{key:t})})))))},R=a(34),_=a.n(R),P=a(47),F=a(175),U=a(203),T=a(176),W=a(93),q=a(63);a(113),a(115);q.initializeApp({apiKey:"AIzaSyB_fQwG_Ob9eA9ctlYNgRsZu1PejQ_nYg4",authDomain:"maavarimsfriends.firebaseapp.com",databaseURL:"https://maavarimsfriends.firebaseio.com",projectId:"maavarimsfriends",storageBucket:"maavarimsfriends.appspot.com",messagingSenderId:"710424664455",appId:"1:710424664455:web:16ecdcb87fb007ecc51b22"}),q.auth().useDeviceLanguage();var G,Q=q,z=!1,K="http://maavarim.github.io/?key=",Z=function(e){var t=e.loginCallaback,a=Object(r.useState)(!1),n=Object(u.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(null),s=Object(u.a)(o,2),m=s[0],d=s[1],b=function(){return d("\u05d7\u05dc\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e0\u05e1\u05d9\u05d5\u05df \u05d4\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea. \u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1.")};Q.auth().onAuthStateChanged((function(e){null!==e&&"maavarim.club@gmail.com"===e.email&&t()}));var p=function(){var e=Object(P.a)(_.a.mark((function e(){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),i(!0),a=new Q.auth.GoogleAuthProvider,e.next=5,Q.auth().setPersistence(z?Q.auth.Auth.Persistence.LOCAL:Q.auth.Auth.Persistence.NONE);case 5:return e.prev=5,e.next=8,Q.auth().signInWithPopup(a);case 8:if(n=e.sent,r=n.user,i(!1),null!==r){e.next=14;break}return b(),e.abrupt("return");case 14:"maavarim.club@gmail.com"===r.email?t():d("\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dd \u05d7\u05e9\u05d1\u05d5\u05df \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05d4\u05e0\u05d9\u05d4\u05d5\u05dc\u05d9."),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),i(!1),b();case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(g.a,{paragraph:!0,variant:"h4"},"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),l.a.createElement(g.a,{paragraph:!0},"\u05e2\u05dc-\u05de\u05e0\u05ea \u05dc\u05d2\u05e9\u05ea \u05dc\u05e4\u05d0\u05e0\u05dc \u05d4\u05e0\u05d9\u05d4\u05d5\u05dc, \u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df \u05d4-Google \u05d4\u05e0\u05d9\u05d4\u05d5\u05dc\u05d9."),l.a.createElement(F.a,{variant:"contained",onClick:p,color:"primary"},c&&l.a.createElement(U.a,{mr:1},l.a.createElement(T.a,{size:12,thickness:4,color:"inherit"})),"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05d1\u05d0\u05de\u05e6\u05e2\u05d5\u05ea Google"),l.a.createElement(W.a,{in:null!==m},l.a.createElement(g.a,{paragraph:!0,color:"error",variant:"body2"},m)))};!function(e){e[e.Login=0]="Login",e[e.Add=1]="Add",e[e.ListAll=2]="ListAll",e[e.Search=3]="Search"}(G||(G={}));var Y=G,J=a(59),X=a(185),$=a(186),ee=a(187),te=a(208);function ae(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t}var ne=function(e){var t=e.split(/\D/).map((function(e){return+e})),a=Object(u.a)(t,3),n=a[0],r=a[1],l=a[2];return new Date(n,r-1,l,12)};var re,le=a(177),ce=a(202),ie=a(179),oe=a(180),ue=a(181),se=a(182),me=Object(v.a)({fieldsContainer:{"& .MuiFormControl-root":{width:"100%"}},fullHeightTextField:{height:"100%","& .MuiTextField-root":{height:"100%","& .MuiInputBase-root":{height:"100%"}}},ltrTextField:{"& .MuiInputBase-input":{direction:"rtl"}}}),de=function(e){var t,a,n,c,i,o,s=e.initialMember,m=e.showErrors,d=e.onResult,b=me(),p=Object(r.useState)(null!==(t=null===s||void 0===s?void 0:s.key)&&void 0!==t?t:""),E=Object(u.a)(p,1)[0],f=Object(r.useState)(null!==(a=null===s||void 0===s?void 0:s.name)&&void 0!==a?a:""),h=Object(u.a)(f,2),g=h[0],v=h[1],j=""===g.trim(),O=Object(r.useState)(null!==(n=null===s||void 0===s?void 0:s.phoneNumber)&&void 0!==n?n:""),y=Object(u.a)(O,2),A=y[0],k=y[1],C=Object(r.useState)(null===(c=null===s||void 0===s?void 0:s.isActive)||void 0===c||c),x=Object(u.a)(C,1)[0],w=Object(r.useState)((null!==(i=null===s||void 0===s?void 0:s.registrationDate)&&void 0!==i?i:new Date).toISOString().split("T")[0]),S=Object(u.a)(w,2),M=S[0],H=S[1],L=Object(r.useState)(null!==(o=null===s||void 0===s?void 0:s.moreDetails)&&void 0!==o?o:""),V=Object(u.a)(L,2),N=V[0],D=V[1];return Object(r.useEffect)((function(){d(j?null:{key:E,name:g,isActive:x,phoneNumber:A,moreDetails:N,registrationDate:ne(M)})}),[E,g,j,x,A,N,M,d]),l.a.createElement(le.a,{className:b.fieldsContainer,container:!0,spacing:1,style:{width:"calc(100% + 12px)"}},l.a.createElement(le.a,{item:!0,container:!0,spacing:1,xs:12,md:6},l.a.createElement(le.a,{item:!0,xs:12},l.a.createElement(ce.a,{label:"\u05e9\u05dd \u05d4\u05d7\u05d1\u05e8.\u05d4",value:g,error:m&&j,helperText:m&&j&&"\u05d0\u05d9 \u05d0\u05e4\u05e9\u05e8 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05d7\u05d1\u05e8.\u05d4 \u05d1\u05dc\u05d9 \u05e9\u05dd",onChange:function(e){return v(e.target.value)},variant:"filled",InputProps:{startAdornment:l.a.createElement(ie.a,{position:"start"},l.a.createElement(oe.a,null))}})),l.a.createElement(le.a,{item:!0,xs:12},l.a.createElement(ce.a,{label:"\u05d8\u05dc\u05e4\u05d5\u05df",value:A,className:b.ltrTextField,type:"tel",onChange:function(e){return k(e.target.value)},variant:"filled",InputProps:{startAdornment:l.a.createElement(ie.a,{position:"start"},l.a.createElement(ue.a,null))}})),l.a.createElement(le.a,{item:!0,xs:12},l.a.createElement(ce.a,{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e6\u05d8\u05e8\u05e4\u05d5\u05ea",defaultValue:M,type:"date",onChange:function(e){return H(e.target.value)},variant:"filled",InputProps:{startAdornment:l.a.createElement(ie.a,{position:"start"},l.a.createElement(se.a,null))}}))),l.a.createElement(le.a,{item:!0,xs:12,md:6,style:{paddingLeft:0}},l.a.createElement(U.a,{mr:[1,1,0],className:b.fullHeightTextField},l.a.createElement(ce.a,{label:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd",multiline:!0,rows:7,value:N,onChange:function(e){return D(e.target.value)},variant:"filled"}))))},be=a(205),pe=function(e){return l.a.createElement(be.a,Object.assign({elevation:6,variant:"filled"},e))},Ee=a(85),fe=a(64),he=a.n(fe),ge=a(70),ve=a(184),je=function(e){var t=e.options,a=Object(r.useState)(null),n=Object(u.a)(a,2),c=n[0],i=n[1];return function(e){return new Promise((function(t){var a=document.createElement("div");if(null!==a){a.innerHTML="",new Ee(a,e);var n=a.children[1];new MutationObserver((function(e){e.forEach((function(e){if("attributes"===e.type&&"src"===e.attributeName){var a=n.src;a.startsWith("data:image/")&&"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="!==a&&t(a)}}))})).observe(n,{attributes:!0})}}))}(t).then(i),l.a.createElement("div",{className:he.a.qrCode},null===c&&l.a.createElement(U.a,{className:he.a.loading},l.a.createElement(T.a,{size:18,thickness:4,color:"inherit"})),c&&l.a.createElement(r.Fragment,null,l.a.createElement("img",{src:c,alt:"QR code"}),l.a.createElement("a",{href:c,download:"qrcode.png"},l.a.createElement(ge.a,{className:he.a.hoverArea},l.a.createElement(ve.a,null),"\u05d4\u05d5\u05e8\u05d3\u05d4"))))},Oe=function(e){var t,a=e.memberKey;return l.a.createElement(je,{options:(t=a,{text:K+t,height:500,width:500,backgroundImage:"".concat("https://maavarim.github.io/admin","/logo.jpg"),autoColor:!0,backgroundImageAlpha:.75,dotScale:.5,quietZone:12})})},ye=a(65),Ae=a.n(ye),ke=a(86),Ce=a.n(ke),xe=Object(v.a)({flex:{display:"flex"}});!function(e){e[e.Enabled=0]="Enabled",e[e.Loading=1]="Loading",e[e.Disabled=2]="Disabled"}(re||(re={}));var we,Se=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(r.useState)(re.Enabled),d=Object(u.a)(m,2),b=d[0],p=d[1],E=Object(r.useState)(!1),f=Object(u.a)(E,2),h=f[0],v=f[1],j=Object(r.useState)(null),O=Object(u.a)(j,2),y=O[0],A=O[1],k=xe(),C=function(){p(re.Enabled),v(!0)};Object(r.useEffect)((function(){p(null===a&&o?re.Disabled:re.Enabled)}),[a,o]);var x=function(){var e=Object(P.a)(_.a.mark((function e(){var t,n,r,l,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a){e.next=2;break}return e.abrupt("return",s(!0));case 2:p(re.Loading),t=function(){return ae(64)},n=function(){var e=Object(P.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.collection("members").doc(t).get();case 3:return a=e.sent,e.abrupt("return",a.exists);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r=Q.firestore();case 6:return l=t(),e.next=9,n(l);case 9:c=e.sent;case 10:if(c){e.next=6;break}case 11:if(null!==c){e.next=13;break}return e.abrupt("return",C());case 13:return e.prev=13,e.next=16,r.collection("members").doc(l).set(Object(J.a)({},a,{registrationDate:Q.firestore.Timestamp.fromDate(a.registrationDate)}));case 16:p(re.Disabled),e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(13),e.abrupt("return",C());case 22:A(l);case 23:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(U.a,null,l.a.createElement(X.a,{maxWidth:"md"},l.a.createElement($.a,null,l.a.createElement(ee.a,null,l.a.createElement(U.a,{mb:2},l.a.createElement(g.a,{variant:"h5",component:"h2"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05d1\u05e8.\u05d4")),l.a.createElement(de,{showErrors:o,onResult:n}),l.a.createElement(U.a,{className:k.flex,justifyContent:"flex-end",mt:2},l.a.createElement(F.a,{variant:"contained",color:"primary",disabled:b===re.Disabled,onClick:x},b===re.Loading&&l.a.createElement(U.a,{mr:1},l.a.createElement(T.a,{size:12,thickness:4,color:"inherit"})),"\u05d9\u05e6\u05d9\u05e8\u05d4")))),null!==y&&l.a.createElement(U.a,{mt:2},l.a.createElement($.a,{style:{position:"relative"}},l.a.createElement(ee.a,{className:Ae.a.successMessageContainer},l.a.createElement(Oe,{memberKey:y}),l.a.createElement(U.a,{mb:2,mt:2,style:{flexGrow:1},className:[k.flex,Ae.a.successMessage_textContainer].join(" "),alignItems:"center"},l.a.createElement(U.a,{style:{zIndex:1},ml:[0,5]},l.a.createElement(g.a,{variant:"h5",component:"h2"},"\u05d4\u05d7\u05d1\u05e8.\u05d4 \u05e0\u05d5\u05e1\u05e4.\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),l.a.createElement(g.a,null,"\u05dc\u05d7\u05e6\u05d5 \u05e2\u05dc \u05d4-QR code \u05dc\u05d4\u05d5\u05e8\u05d3\u05d4.")),l.a.createElement("img",{src:Ce.a,alt:"\u05d0\u05d9\u05d5\u05e8 \u05d4\u05e6\u05dc\u05d7\u05d4",className:Ae.a.illustration}))))),l.a.createElement(te.a,{open:h,autoHideDuration:6e3,onClose:function(){return v(!1)}},l.a.createElement(pe,{onClose:function(){return v(!1)},severity:"error"},"\u05d7\u05dc\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d7\u05d1\u05e8.\u05d4 \u05d4\u05d7\u05d3\u05e9.\u05d4, \u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8."))))},Me=a(91),He=a(69),Le=a(191),Ve=a(192),Ne=a(193),De=a(194),Ie=a(195),Be=a(196),Re=a(206),_e=a(197),Pe=function(e){return l.a.createElement(M.a,e,l.a.createElement("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"}))},Fe=a(188),Ue=a(189),Te=a(190),We=a(62),qe=Object(Me.a)(Fe.a)({padding:"8px"}),Ge=Object(Me.a)(F.a)({color:We.a[700]}),Qe=function(e){var t=e.db,a=e.open,n=e.onClose,c=e.member,i=e.editCallback,o=e.deleteCallback,s=Object(r.useState)(null),m=Object(u.a)(s,2),d=m[0],b=m[1],p=Object(r.useState)(!1),E=Object(u.a)(p,2),f=E[0],h=E[1],v=Object(r.useState)(!1),j=Object(u.a)(v,2),O=j[0],y=j[1],A=Object(r.useState)(!1),k=Object(u.a)(A,2),C=k[0],x=k[1],w=function(){n(),x(!1)};return l.a.createElement(r.Fragment,null,l.a.createElement(Ue.a,{open:a&&null!==c,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(qe,null,l.a.createElement(U.a,{m:2,mt:0},l.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"\u05e2\u05e8\u05d9\u05db\u05ea \u05d7\u05d1\u05e8.\u05d4")),c&&l.a.createElement(de,{initialMember:c,showErrors:!0,onResult:b})),l.a.createElement(Te.a,null,l.a.createElement(F.a,{onClick:w,variant:"outlined"},"\u05d1\u05d9\u05d8\u05d5\u05dc"),l.a.createElement(Ge,{onClick:function(){if(!C)return x(!0);null!==d&&""!==d.key&&t.collection("members").doc(d.key).delete().then((function(){y(!0),o(d),w()}))},disabled:null===d,variant:"outlined",color:"inherit"},C?"\u05d1\u05d0\u05de\u05ea \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea ".concat(null===c||void 0===c?void 0:c.name,"?"):"\u05de\u05d7\u05d9\u05e7\u05d4"),l.a.createElement(F.a,{onClick:function(){null!==d&&""!==d.key&&t.collection("members").doc(d.key).set(d).then((function(){y(!0),i(d),w()}))},disabled:null===d,variant:"contained",color:"primary"},"\u05e2\u05e8\u05d9\u05db\u05d4"))),l.a.createElement(te.a,{open:f,autoHideDuration:6e3,onClose:function(){return h(!1)}},l.a.createElement(pe,{onClose:function(){return h(!1)},severity:"success"},"\u05d4\u05d7\u05d1\u05e8.\u05d4 \u05e0\u05e2\u05e8\u05db.\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4")),l.a.createElement(te.a,{open:O,autoHideDuration:6e3,onClose:function(){return y(!1)}},l.a.createElement(pe,{onClose:function(){return y(!1)},severity:"success"},"\u05d4\u05d7\u05d1\u05e8.\u05d4 \u05e0\u05de\u05d7\u05e7.\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4")))},ze=Object(Me.a)(Fe.a)({padding:"8px","&.MuiDialogContent-root:first-child":{paddingTop:"8px"}}),Ke=function(e){var t=e.open,a=e.onClose,n=e.member,c=function(){a()};return l.a.createElement(r.Fragment,null,l.a.createElement(Ue.a,{open:t&&null!==n,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n&&l.a.createElement(ze,null,l.a.createElement(Oe,{memberKey:n.key})),l.a.createElement(Te.a,null,l.a.createElement(F.a,{onClick:c,variant:"outlined"},"\u05d0\u05d5\u05e7\u05d9\u05d9"))))},Ze=Object(v.a)({table:{minWidth:650},loadMoreButton:{width:"100%",borderRadius:"0",fontWeight:600}}),Ye=Object(Me.a)(Le.a)({fontWeight:600});!function(e){e[e.LoadMore=0]="LoadMore",e[e.AddMembers=1]="AddMembers",e[e.UpdateMember=2]="UpdateMember",e[e.DeleteMember=3]="DeleteMember",e[e.NewSearch=4]="NewSearch"}(we||(we={}));var Je=function(e){var t=e.query,a=Ze(),n=Object(r.useMemo)(Q.firestore,[]),c=Object(r.useState)(null),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(r.useState)(!1),b=Object(u.a)(d,2),E=b[0],f=b[1],h=Object(r.useCallback)((function(){return new Promise((function(e,a){E||function(e,t,a){var n=e.collection("members");if(void 0!==t){if(n=n.orderBy("name").where("name",">=",t),""!==t){var r=t.substring(0,t.length-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);n=n.where("name","<",r)}}else n=n.orderBy("registrationDate");return null!==a&&(n=n.startAfter(a)),n.limit(20)}(n,t,s).get().then((function(t){if(t.empty)return f(!0),void e([]);var a=t.docs,n=a.map((function(e){var t,a,n=e.data();return{key:e.id,name:n.name,isActive:n.isActive,phoneNumber:null!==(t=n.phoneNumber)&&void 0!==t?t:"",moreDetails:null!==(a=n.moreDetails)&&void 0!==a?a:"",registrationDate:n.registrationDate.toDate()}}));m(a[t.docs.length-1]),t.size<20&&f(!0),e(n)})).catch(a)}))}),[n,t,s,E]),g=Object(r.useState)(!1),v=Object(u.a)(g,2),j=v[0],O=v[1],y=Object(r.useReducer)((function(e,t){var a,n;switch(t.name){case we.AddMembers:return[].concat(Object(o.a)(null!==e&&void 0!==e?e:[]),Object(o.a)(t.payload));case we.UpdateMember:var r=t.payload;return null!==(a=null===e||void 0===e?void 0:e.map((function(e){return r.key===e.key?r:e})))&&void 0!==a?a:null;case we.DeleteMember:var l=t.payload;return null!==(n=null===e||void 0===e?void 0:e.filter((function(e){return l.key!==e.key})))&&void 0!==n?n:null;case we.LoadMore:return O(!0),e;case we.NewSearch:return m(null),f(!1),O(!0),null}}),null),A=Object(u.a)(y,2),k=A[0],C=A[1];Object(r.useEffect)((function(){C({name:we.NewSearch})}),[t]),Object(r.useEffect)((function(){j&&(O(!1),h().then((function(e){C({name:we.AddMembers,payload:e})})))}),[j,h]);var x=Object(r.useState)(null),w=Object(u.a)(x,2),S=w[0],M=w[1],H=Object(r.useState)(!1),L=Object(u.a)(H,2),V=L[0],N=L[1],D=function(e){C({name:we.UpdateMember,payload:e})},I=Object(r.useState)(null),B=Object(u.a)(I,2),R=B[0],_=B[1],P=Object(r.useState)(!1),T=Object(u.a)(P,2),W=T[0],q=T[1];return l.a.createElement(r.Fragment,null,l.a.createElement(Qe,{open:V,onClose:function(){return N(!1)},db:n,member:S,editCallback:D,deleteCallback:function(e){C({name:we.DeleteMember,payload:e})}}),l.a.createElement(Ke,{open:W,onClose:function(){return q(!1)},member:R}),null!==k&&l.a.createElement(r.Fragment,null,l.a.createElement(Ve.a,{component:"div"},l.a.createElement(Ne.a,{stickyHeader:!0,className:a.table,"aria-label":"\u05d8\u05d1\u05dc\u05ea \u05d7\u05d1\u05e8\u05d9\u05dd"},l.a.createElement(De.a,null,l.a.createElement(Ie.a,null,l.a.createElement(Ye,null,"\u05e9\u05dd \u05d4\u05d7\u05d1\u05e8.\u05d4"),l.a.createElement(Ye,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e6\u05d8\u05e8\u05e4\u05d5\u05ea"),l.a.createElement(Ye,null,"\u05d8\u05dc\u05e4\u05d5\u05df"),l.a.createElement(Ye,null,"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd"),l.a.createElement(Ye,{align:"center"},"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05de\u05d9\u05e0\u05d5\u05d9"),l.a.createElement(Ye,{align:"center"},"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"))),l.a.createElement(Be.a,null,k.map((function(e){return l.a.createElement(Ie.a,{key:e.key},l.a.createElement(Le.a,{component:"th",scope:"row"},e.name),l.a.createElement(Le.a,null,function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=n<10?"0".concat(n):n,l=a<10?"0".concat(a):a;return"".concat(r,"/").concat(l,"/").concat(t)}(e.registrationDate)),l.a.createElement(Le.a,{style:{direction:"ltr"}},e.phoneNumber?e.phoneNumber:"-"),l.a.createElement(Le.a,null,e.moreDetails),l.a.createElement(Le.a,{align:"center",style:{padding:0}},l.a.createElement(Re.a,{checked:e.isActive,onChange:function(t){return function(e,t){var a=Object(J.a)({},e,{isActive:t});n.collection("members").doc(a.key).set(a).then((function(e){D(a)}))}(e,t.target.checked)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})),l.a.createElement(Le.a,{align:"center",style:{padding:0}},l.a.createElement(p.a,{"aria-label":"\u05e6\u05e4\u05d9\u05d9\u05d4 \u05d1-qr code",style:{marginRight:".25em"},onClick:function(){_(e),q(!0)}},l.a.createElement(Pe,null))," ",l.a.createElement(p.a,{"aria-label":"\u05e2\u05e8\u05d9\u05db\u05d4",style:{marginRight:"-.25em",marginLeft:".25em"},onClick:function(){M(e),N(!0)}},l.a.createElement(_e.a,null))))}))))),null!==k&&0===k.length&&l.a.createElement(U.a,null,l.a.createElement(F.a,{className:a.loadMoreButton,disabled:!0},"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea \u05e9\u05e9\u05de\u05dd.\u05df \u05de\u05ea\u05d7\u05d9\u05dc \u05d1-",l.a.createElement("b",null,t),".")),!E&&l.a.createElement(U.a,null,l.a.createElement(F.a,{className:a.loadMoreButton,onClick:function(){return C({name:we.LoadMore})},color:"primary"},"\u05d0\u05e4\u05e9\u05e8 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e2\u05d5\u05d3 \u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea?"))))},Xe=Object(Me.a)(ce.a)({flexGrow:1,"& .MuiFilledInput-root":{borderRadius:0}}),$e=Object(Me.a)(F.a)({borderRadius:0}),et=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),o=i[0],s=i[1];return l.a.createElement(U.a,null,l.a.createElement(X.a,{maxWidth:"md"},l.a.createElement(He.a,null,l.a.createElement(U.a,{p:2},l.a.createElement(g.a,{variant:"h5",component:"h2"},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea")),l.a.createElement(U.a,{display:"flex"},l.a.createElement(Xe,{id:"filled-basic",label:"\u05d0\u05e0\u05d9 \u05de\u05d7\u05e4\u05e9.\u05ea \u05d7\u05d1\u05e8.\u05d4 \u05e9\u05de\u05ea\u05d7\u05d9\u05dc.\u05d4 \u05d1...",variant:"filled",value:a,onChange:function(e){return n(e.target.value)}}),l.a.createElement($e,{variant:"contained",color:"primary",onClick:function(){return s(a)}},"\u05d7\u05d9\u05e4\u05d5\u05e9")),l.a.createElement(Je,{query:o}))))},tt=function(){return l.a.createElement(U.a,null,l.a.createElement(X.a,{maxWidth:"md"},l.a.createElement(He.a,null,l.a.createElement(U.a,{p:2},l.a.createElement(g.a,{variant:"h5",component:"h2"},"\u05db\u05dc \u05d4\u05d7\u05d1\u05e8\u05d9\u05dd.\u05d5\u05ea")),l.a.createElement(Je,null))))},at=Object(v.a)((function(e){return Object(j.a)({root:{display:"flex"},drawer:Object(s.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),toolbar:e.mixins.toolbar,appBar:Object(s.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}})})),nt=function(e){var t=e.container,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)(Y.Login),E=Object(u.a)(s,2),v=E[0],j=E[1],y=at(),A=Object(O.a)(),k=l.a.useState(!1),C=Object(u.a)(k,2),x=C[0],w=C[1],S=function(){w(!x)},M=function(e){switch(e){case n.Add:j(Y.Add);break;case n.ListAll:j(Y.ListAll);break;case n.Serach:j(Y.Search);break;case n.Logout:Q.auth().signOut().then((function(){o(!1),j(Y.Login)})).catch((function(e){window.close()}))}},H=function(){j(Y.Add),o(!0)};return l.a.createElement("div",{className:y.root},l.a.createElement(d.a,null),l.a.createElement(m.a,{position:"fixed",className:y.appBar},l.a.createElement(h.a,null,l.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:S,className:y.menuButton},l.a.createElement(f.a,null)),l.a.createElement(g.a,{variant:"h6",noWrap:!0},"\u05de\u05d5\u05e2\u05d3\u05d5\u05df \u05d7\u05d1\u05e8\u05d5\u05ea\u05d9\u05dd\u05d5\u05ea \u2013 \u05e4\u05d0\u05e0\u05dc \u05e0\u05d9\u05d4\u05d5\u05dc"))),l.a.createElement("nav",{className:y.drawer,"aria-label":"mailbox folders"},l.a.createElement(b.a,{smUp:!0,implementation:"css"},l.a.createElement(B,{isLoggedIn:i,perform:M,container:t,variant:"temporary",anchor:"rtl"===A.direction?"right":"left",open:x,onClose:S,classes:{paper:y.drawerPaper},ModalProps:{keepMounted:!0}})),l.a.createElement(b.a,{xsDown:!0,implementation:"css"},l.a.createElement(B,{isLoggedIn:i,perform:M,classes:{paper:y.drawerPaper},variant:"permanent",open:!0}))),l.a.createElement("main",{className:y.content},l.a.createElement("div",{className:y.toolbar}),function(){switch(v){case Y.Login:return l.a.createElement(Z,{loginCallaback:H});case Y.Add:return l.a.createElement(Se,null);case Y.ListAll:return l.a.createElement(tt,null);case Y.Search:return l.a.createElement(et,null)}}()))},rt=a(90),lt=a(201),ct=a(89),it=a(17),ot=a(88),ut=a.n(ot),st=a(204),mt=a(211),dt=Object(rt.a)({direction:"rtl",palette:{primary:{main:"#8e24aa"}},typography:{fontFamily:["Assistant","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{textTransform:"none"}}},ct.a),bt=Object(it.b)({plugins:[].concat(Object(o.a)(Object(st.a)().plugins),[ut()()])}),pt=function(e){return l.a.createElement(mt.b,{jss:bt},e.children)},Et=function(){return l.a.createElement(pt,null,l.a.createElement(lt.a,{theme:dt},l.a.createElement(nt,null)))};i.a.render(l.a.createElement(Et,null),document.getElementById("root"))},64:function(e,t,a){e.exports={loading:"QRCode_loading__26UwV",qrCode:"QRCode_qrCode__aqTWZ",hoverArea:"QRCode_hoverArea__2KLFA"}},65:function(e,t,a){e.exports={successMessageContainer:"style_successMessageContainer__20_43",illustration:"style_illustration__c_UA7"}},86:function(e,t,a){e.exports=a.p+"static/media/SuccessIllustration.565a7ac6.svg"}},[[103,1,2]]]);
//# sourceMappingURL=main.4a950d11.chunk.js.map